.\" $Id: dspam_merge.1,v 1.11 2011/06/28 00:13:48 sbajic Exp $
.\"  -*- nroff -*-
.\"
.\" dspam_merge3.9
.\"
.\" Authors:	Jonathan A. Zdziarski <jonathan@nuclearelephant.com>
.\"		Stevan Bajic <stevan@bajic.ch>
.\"
.\" Copyright (C) 2002-2012 DSPAM Project
.\" All rights reserved
.\"
.TH dspam_merge 1  "Apr 17, 2010" "DSPAM" "DSPAM"

.SH NAME
dspam_merge \- merge several users' metadata into a composite

.SH SYNOPSIS
.na
.B dspam_merge
[\c
.BI \--profile= \PROFILE\c
]
.BI \ user1\ user2\ ...\ userN\c
.BI \ \-o \ username\fR\c

.ad
.SH DESCRIPTION 
.LP
.B dspam_merge
merges several users' metadata into a single user's dictionary. This tool
is designed to create global users and seeded data. The hit sounds for each
token and per\-user totals are added together to produce a single composite
dataset. After creating a composite user,
.B dspam_clean
should be run with the \-p option to clean up extraneous data.

.B NOTE
: Merges may take a considerable amount of time. This could potentially increase
the load on the server or even slow down the delivery of email. A merge should
only be performed when the system is fairly acquiesce.

.SH OPTIONS
.LP

.ne 3
.TP
.BI \ \--profile= \PROFILE\c
Specify a storage profile from dspam.conf. The storage profile selected will be used
for all database connectivity. See dspam.conf for more information.

.ne 3
.TP
.BI \ user1\ user2\ ...\ userN\c
A list of users to merge together.
 
.ne 3
.TP
.BI \ \-o \ username\c
The target user which will be created (if necessary). This user will contain
the composite generated by the merge.

.SH EXAMPLES
.B dspam_merge dick jane spot \-o ralph

Merges the metadata dictionaries of dick, jane, and spot into a single
composite under the user 
.B ralph
.

.SH EXIT VALUE
.LP
.ne 3
.PD 0
.TP
.B 0
Operation was successful.
.ne 3
.TP
.B other
Operation resulted in an error. 
.PD

.SH COPYRIGHT
Copyright \(co 2002\-2012 DSPAM Project
.br
All rights reserved.
.br

For more information, see http://dspam.sourceforge.net.

.SH SEE ALSO
.BR dspam (1),
.BR dspam_admin (1),
.BR dspam_clean (1),
.BR dspam_crc (1),
.BR dspam_dump (1),
.BR dspam_logrotate (1),
.BR dspam_stats (1),
.BR dspam_train (1)
